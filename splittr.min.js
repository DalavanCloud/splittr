//    Part of the Splittr Library
//       (C) 2013 Shane Carr
//   Released under the X11 License
// https://github.com/vote539/splittr

window.splittr={};window.splittr.barBreadth=5;
window.splittr.init=function(){var c=/^(horizontal|vertical) (static|dynamic) ((?:\d+ ?)+)$/;window.splittr.util.get(document,function(){var b=this.getAttribute("data-splittr");if(!b)return!1;var a=c.exec(b);if(!a)throw Error("Splittr: Invalid options string.  (Read '"+b+"')");var d="vertical"===a[1],g="dynamic"===a[2],h=a[3].split(" "),l=document.createElement("div");l.setAttribute("class","splittr-bar-container");var j=0,f=[],b=window.splittr.util.children(this,function(a){var c=parseInt(h[a])||
0;this.collapsible=null!==this.getAttribute("data-splittr-collapsible");0<a&&(a=window.splittr.util.makeBar(d,g,j),l.appendChild(a),f.push(a),j+=window.splittr.barBreadth);d?(this.style.left=j+"px",this.style.width=c+"px"):(this.style.top=j+"px",this.style.height=c+"px");j+=c},!0);this.appendChild(l);a=b[b.length-1];d?(a.style.width="auto",a.style.right=0,a.style.width=a.offsetWidth+"px"):(a.style.height="auto",a.style.bottom=0,a.style.height=a.offsetHeight+"px");if(g)for(a=f.length-1;0<=a;a--){var k=
f[a],e=b[a],m=b[a+1];window.splittr.util.handleMouseEvents(k,e,m,d);e.collapsible&&k.addCollapse(!0,d,e,m);m.collapsible&&k.addCollapse(!1,d,e,m)}},!1)};window.splittr.util={};window.splittr.util.copy=function(c){var b=[],a;for(a in c)c.hasOwnProperty(a)&&b.push(c[a]);return b};window.splittr.util._elements=function(c,b){var a=[],d=0,g;for(g in c)if(c.hasOwnProperty(g)){var h=c[g];1===h.nodeType&&(!b||!1!==b.call(h,d++))&&a.push(h)}return a};
window.splittr.util.get=function(c,b,a){c=c.getElementsByTagName("*");a&&(c=window.splittr.util.copy(c));return window.splittr.util._elements(c,b)};window.splittr.util.children=function(c,b,a){c=c.childNodes;a&&(c=window.splittr.util.copy(c));return window.splittr.util._elements(c,b)};
window.splittr.util.makeBar=function(c,b,a){var d=document.createElement("div"),g="splittr-bar";c?(g+=" splittr-bar-vertical",d.style.width=window.splittr.barBreadth+"px",d.style.left=a+"px"):(g+=" splittr-bar-horizontal",d.style.height=window.splittr.barBreadth+"px",d.style.top=a+"px");b&&(g+=" splittr-bar-dynamic");d.setAttribute("class",g);d.addCollapse=function(a,c,b,f){var g=document.createElement("div");g.setAttribute("class","splittr-handle-container");var e=document.createElement("div");e.setAttribute("class",
a?"splittr-handle-prev":"splittr-handle-next");e.appendChild(document.createTextNode(a?c?"\u25c0":"\u25b2":c?"\u25b6":"\u25bc"));e.addEventListener("click",function(){a?c?(d.style.left=d.offsetLeft-b.offsetWidth+"px",f.style.left=d.offsetLeft+d.offsetWidth+"px",f.style.width=f.offsetWidth+b.offsetWidth+"px",b.style.width=0):(d.style.top=d.offsetTop-b.offsetHeight+"px",f.style.top=d.offsetTop+d.offsetHeight+"px",f.style.height=f.offsetHeight+b.offsetHeight+"px",b.style.height=0):c?(d.style.left=d.offsetLeft+
f.offsetWidth+"px",f.style.left=f.offsetLeft+f.offsetWidth+"px",b.style.width=b.offsetWidth+f.offsetWidth+"px",f.style.width=0):(d.style.top=d.offsetTop+f.offsetHeight+"px",f.style.top=f.offsetTop+f.offsetHeight+"px",b.style.height=b.offsetHeight+f.offsetHeight+"px",f.style.height=0);window.splittr.util.dispatchSplitterMove(d.parentNode.parentNode,b,f)},!1);g.appendChild(e);d.appendChild(g)};return d};
window.splittr.util.getTotalOffsetTop=function(c){var b=0;do b+=c.offsetTop;while(c=c.offsetParent);return b};window.splittr.util.getTotalOffsetLeft=function(c){var b=0;do b+=c.offsetLeft;while(c=c.offsetParent);return b};
window.splittr.util.handleMouseEvents=function(c,b,a,d){var g=null,h,l,j,f,k;c.addEventListener("mousedown",function(e){e.preventDefault();g=d?e.clientX:e.clientY;h=d?c.offsetLeft:c.offsetTop;f=d?b.offsetWidth:b.offsetHeight;k=d?a.offsetWidth:a.offsetHeight;l=0-f;j=k},!1);window.addEventListener("mousemove",function(e){null!==g&&(e.preventDefault(),e=(d?e.clientX:e.clientY)-g,e<l&&(e=l),e>j&&(e=j),d?(c.style.left=h+e+"px",b.style.width=f+e+"px",a.style.left=h+e+window.splittr.barBreadth+"px",a.style.width=
k-e+"px"):(c.style.top=h+e+"px",b.style.height=f+e+"px",a.style.top=h+e+window.splittr.barBreadth+"px",a.style.height=k-e+"px"),window.splittr.util.dispatchSplitterMove(a.parentNode,b,a))},!1);window.addEventListener("mouseup",function(){null!==g&&(g=null,window.splittr.util.dispatchSplitterDone(a.parentNode,b,a))},!1)};window.splittr.util.dispatchSplitterMove=function(c,b,a){var d=document.createEvent("Event");d.initEvent("splitterMove",!1,!1);d.prev=b;d.next=a;c.dispatchEvent(d)};
window.splittr.util.dispatchSplitterDone=function(c,b,a){var d=document.createEvent("Event");d.initEvent("splitterDone",!1,!1);d.prev=b;d.next=a;c.dispatchEvent(d)};document.addEventListener("DOMContentLoaded",function(){splittr.init()},!1);